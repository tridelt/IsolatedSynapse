using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PuzzleVulnerabilityManager : MonoBehaviour
{
    // private StateModifier object1Modifier;
    // private StateModifier object2Modifier;
    // private StateModifier object3Modifier;
    private bool wheel1_active = false;

    void Awake()
    {
        Rune[] stateModifiers = FindObjectsOfType<Rune>();
        foreach (Rune stateModifier in stateModifiers)
        {
            stateModifier.onStateChanged.AddListener(() => OnObjectStateChanged(stateModifier));
        }
    }

    public void OnObjectStateChanged(Rune rune)
    {
        Debug.Log("message received");
        Debug.Log(rune.name);
        Debug.Log(rune.triggerPosition);
        
        // if (stateModifier == object1Modifier)
        // {
        //     // Update the state of object 1
        // }
        // else if (stateModifier == object2Modifier)
        // {
        //     // Update the state of object 2
        // }
        // else if (stateModifier == object3Modifier)
        // {
        //     // Update the state of object 3
        // }

        // Check the state of all three objects
        // If the correct combination of states has been achieved, open the door
    }
}